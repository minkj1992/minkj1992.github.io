<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noodp" />
    <title>All Basic Computer Science | minkj1992</title><meta name="Description" content="All Basic Computer Science"><meta property="og:title" content="All Basic Computer Science" />
<meta property="og:description" content="All Basic Computer Science" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://minkj1992.github.io/interview/" /><meta property="og:image" content="https://minkj1992.github.io/images/profile3.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-06T22:00:50+09:00" />
<meta property="article:modified_time" content="2023-10-13T11:51:53+09:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://minkj1992.github.io/images/profile3.png"/>

<meta name="twitter:title" content="All Basic Computer Science"/>
<meta name="twitter:description" content="All Basic Computer Science"/>
<meta name="application-name" content="minkj1992">
<meta name="apple-mobile-web-app-title" content="minkj1992"><meta name="theme-color" content="#DB6B97"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://minkj1992.github.io/interview/" /><link rel="prev" href="https://minkj1992.github.io/db/" /><link rel="next" href="https://minkj1992.github.io/postgresql/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "All Basic Computer Science",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/minkj1992.github.io\/interview\/"
        },"image": [{
                            "@type": "ImageObject",
                            "url": "https:\/\/minkj1992.github.io\/images\/profile2.jpeg",
                            "width":  1078 ,
                            "height":  1082 
                        }],"genre": "posts","keywords": "dev, cs, interview","wordcount":  1683 ,
        "url": "https:\/\/minkj1992.github.io\/interview\/","datePublished": "2023-10-06T22:00:50+09:00","dateModified": "2023-10-13T11:51:53+09:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "minkj1992","logo": {
                    "@type": "ImageObject",
                    "url": "https:\/\/minkj1992.github.io\/images\/profile3.png",
                    "width":  1362 ,
                    "height":  1868 
                }},"author": {
                "@type": "Person",
                "name": "leoo.j"
            },"description": "All Basic Computer Science"
    }
    </script><meta name="msapplication-TileColor" content="#FFF" />
<meta name="theme-color" content="#FFF" />
<link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png" />
<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png" />
<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png" />
<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png" />
<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png" />
<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png" />
<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png" />
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="/android-icon-36x36.png" sizes="36x36" />
<link rel="icon" type="image/png" href="/android-icon-48x48.png" sizes="48x48" />
<link rel="icon" type="image/png" href="/android-icon-72x72.png" sizes="72x72" />
<link rel="icon" type="image/png" href="/android-icon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/png" href="/android-icon-144x144.png" sizes="144x144" />
<link rel="icon" type="image/png" href="/android-icon-192x192.png" sizes="192x192" />
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16" />
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png" />
<meta name="msapplication-square70x70logo" content="/ms-icon-70x70.png" />
<meta name="msapplication-square150x150logo" content="/ms-icon-150x150.png" />
<meta name="msapplication-wide310x150logo" content="/ms-icon-310x150.png" />
<meta name="msapplication-square310x310logo" content="/ms-icon-310x310.png" />
<link href="/apple-startup-320x460.png"
    media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 1)"
    rel="apple-touch-startup-image" />
<link href="/apple-startup-640x920.png"
    media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)"
    rel="apple-touch-startup-image" />
<link href="/apple-startup-640x1096.png"
    media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)"
    rel="apple-touch-startup-image" />
<link href="/apple-startup-748x1024.png"
    media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 1) and (orientation: landscape)"
    rel="apple-touch-startup-image" />
<link href="/apple-startup-750x1024.png" media="" rel="apple-touch-startup-image" />
<link href="/apple-startup-750x1294.png"
    media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)"
    rel="apple-touch-startup-image" />
<link href="/apple-startup-768x1004.png"
    media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 1) and (orientation: portrait)"
    rel="apple-touch-startup-image" />
<link href="/apple-startup-1182x2208.png"
    media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    rel="apple-touch-startup-image" />
<link href="/apple-startup-1242x2148.png"
    media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    rel="apple-touch-startup-image" />
<link href="/apple-startup-1496x2048.png"
    media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    rel="apple-touch-startup-image" />
<link href="/apple-startup-1536x2008.png"
    media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    rel="apple-touch-startup-image" />
<link rel="manifest" href="/manifest.json" /></head>

<body data-header-desktop="auto"
    data-header-mobile="auto"><script
        type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('light' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'light' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

    <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="minkj1992"><span class="header-title-pre"><span style='color: Mediumslateblue;'><</span></span><span id="id-1" class="typeit"></span><span class="header-title-post"><span style='color: Mediumslateblue;'>/></span></span></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/about/"> About </a><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="https://github.com/minkj1992/love" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i>  </a><a class="menu-item" href="/categories/"> Categories </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="minkj1992"><span class="header-title-pre"><span style='color: Mediumslateblue;'><</span></span><span id="id-2" class="typeit"></span><span class="header-title-post"><span style='color: Mediumslateblue;'>/></span></span></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/about/" title="">About</a><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="https://github.com/minkj1992/love" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i></a><a class="menu-item" href="/categories/" title="">Categories</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
            <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">All Basic Computer Science</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://github.com/minkj1992" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>leoo.j</a>
</span>&nbsp;<span class="post-category">included in <a href="/categories/dev/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>dev</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2023-10-06">2023-10-06</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;1683 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;8 minutes&nbsp;</div>
        </div><div class="featured-image"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images/interview.jpeg"
        data-srcset="/images/interview.jpeg, /images/interview.jpeg 1.5x, /images/interview.jpeg 2x"
        data-sizes="auto"
        alt="/images/interview.jpeg"
        title="All Basic Computer Science" /></div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#1-http의-get과-post-비교">1. HTTP의 GET과 POST 비교</a>
      <ul>
        <li><a href="#get">GET</a></li>
        <li><a href="#post">POST</a></li>
      </ul>
    </li>
    <li><a href="#2-tcp-vs-udp">2. TCP vs UDP</a></li>
    <li><a href="#3-tcp-흐름제어-sliding-window">3. TCP 흐름제어 (sliding window)</a></li>
    <li><a href="#4-dns-lookup">4. DNS lookup</a></li>
    <li><a href="#5-웹-통신의-큰-흐름-httpswwwgooglecom-을-접속할-때-일어나는-일">5. 웹 통신의 큰 흐름: <a href="https://www.google.com/">https://www.google.com/</a> 을 접속할 때 일어나는 일</a></li>
    <li><a href="#6-dns-round-robin-방식">6. DNS round robin 방식</a>
      <ul>
        <li><a href="#dns-rr-문제점">DNS RR 문제점</a></li>
      </ul>
    </li>
    <li><a href="#7-handshakes">7. handshakes</a>
      <ul>
        <li><a href="#3-way-handshake">3-way handshake</a></li>
        <li><a href="#4-way-handshake">4-way handshake</a></li>
        <li><a href="#tls-handshakersa">TLS handshake(RSA)</a></li>
        <li><a href="#web-socket-handshake">Web Socket Handshake</a></li>
      </ul>
    </li>
    <li><a href="#8-nginx가-c10k-problem을-해결한-방식">8. Nginx가 c10k problem을 해결한 방식</a></li>
  </ul>

  <ul>
    <li><a href="#db-트랜잭션이란">DB 트랜잭션이란?</a></li>
    <li><a href="#트랜잭션과-lock에-대해서-isolation과-연결-지어-설명해주세요">트랜잭션과 lock에 대해서 isolation과 연결 지어 설명해주세요</a></li>
    <li><a href="#optimistic-lock-vs-pessimistic-lock">optimistic lock vs pessimistic lock</a></li>
    <li><a href="#db-index에-대해-설명해주세요">DB index에 대해 설명해주세요</a></li>
    <li><a href="#db-join">DB Join</a>
      <ul>
        <li><a href="#join-유형">Join 유형</a></li>
        <li><a href="#join-연산-시-성능-최적화-전략">Join 연산 시 성능 최적화 전략</a></li>
        <li><a href="#join-전략-nested-loop-join-hash-join-merge-join">Join 전략: Nested Loop Join, Hash Join, Merge Join</a></li>
        <li><a href="#카디널리티와-조인">카디널리티와 조인</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><blockquote>
<p>Let&rsquo;s prepare basic computer science interview questions.</p>
</blockquote>
<h1 id="network">Network</h1>
<h2 id="1-http의-get과-post-비교">1. HTTP의 GET과 POST 비교</h2>
<blockquote>
<p>get과 post는 http 프로토콜의 가장 기본적인 메소드들 중 2개입니다.</p>
</blockquote>
<h3 id="get">GET</h3>
<ul>
<li>조회 기능</li>
<li>http request message(1. request line, 2. header, 3. body)중 request line에 url (쿼리 포함)로 전송</li>
<li>웹 브라우저나 중간의 프록시 서버 (의도치 않게) cache 가능성 존재</li>
<li>길이 제한, 안정성</li>
</ul>
<h3 id="post">POST</h3>
<ul>
<li>서버로 데이터를 전송하여 리소스 생성 기능</li>
<li>http reqeust message의 body에 데이터를 담아 전송하여, GET과 비교해 더 많은 양의 데이터 전송 가능</li>
</ul>
<h2 id="2-tcp-vs-udp">2. TCP vs UDP</h2>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">TCP</th>
<th style="text-align:center">UDP</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">연결방식</td>
<td style="text-align:center">연결형서비스</td>
<td style="text-align:center">비 연결형 서비스</td>
</tr>
<tr>
<td style="text-align:center">패킷 교환 방식</td>
<td style="text-align:center">가상 회선 방식</td>
<td style="text-align:center">데이터그램 방식</td>
</tr>
<tr>
<td style="text-align:center">전송 순서</td>
<td style="text-align:center">전송 순서 보장</td>
<td style="text-align:center">전송 순서가 바뀔 수 있음</td>
</tr>
<tr>
<td style="text-align:center">수신 여부 확인</td>
<td style="text-align:center">수신 여부를 확인함</td>
<td style="text-align:center">수신 여부를 확인하지 않음</td>
</tr>
<tr>
<td style="text-align:center">통신 방식</td>
<td style="text-align:center">1:1 통신만 가능</td>
<td style="text-align:center">1:1 / 1:N / N:N 통신 모두 가능</td>
</tr>
<tr>
<td style="text-align:center">신뢰성</td>
<td style="text-align:center">높음</td>
<td style="text-align:center">낮음</td>
</tr>
<tr>
<td style="text-align:center">속도</td>
<td style="text-align:center">느림</td>
<td style="text-align:center">빠름</td>
</tr>
</tbody>
</table>
<p>TCP</p>
<ul>
<li>연결</li>
<li>신뢰성, 패킷 손실 또는 순서 다를 경우 -&gt; 패킷 재전송 또는 순서 재정렬</li>
<li>순서 보장, 데이터는 송신한 순서대로 수신됨</li>
<li>흐름 제어, 슬라이딩 윈도우를 통해 받을 buffer 양 계산하여 전송</li>
</ul>
<p>UDP</p>
<ul>
<li>비연결, 데이터 바로 전송</li>
<li>신뢰성 x, 재전송 하지 않고, 패킷 순서 보장 x</li>
<li>흐름 제어 x</li>
<li>최소한의 오버헤드</li>
<li>DNS, 온라인 게임, VoIP(voice call), 미디어 스트리밍 그리고 http3 (QUIC)</li>
</ul>
<h2 id="3-tcp-흐름제어-sliding-window">3. TCP 흐름제어 (sliding window)</h2>
<blockquote>
<p><a href="https://evan-moon.github.io/2019/11/22/tcp-flow-control-error-control/" target="_blank" rel="noopener noreffer">패킷의 흐름과 오류를 제어하는 TCP</a>
</p>
</blockquote>
<p>클라와 서버는 각각 데이터를 담을 수 있는 버퍼를 가지고 있고, <code>window</code>라는 일종의 마스킹 도구를 가지고 있다. 서버측의 윈도우 크기는 3way handshake를 통해, 마지막 클라이언트 측에서 보내준 버퍼 크기를 사용하여 서버측 윈도우 크기를 정하게 된다.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="n">localhost</span><span class="o">.</span><span class="n">initiator</span> <span class="o">&gt;</span> <span class="n">localhost</span><span class="o">.</span><span class="n">receiver</span><span class="p">:</span> <span class="n">Flags</span> <span class="p">[</span><span class="n">S</span><span class="p">],</span> <span class="n">seq</span> <span class="mi">1487079775</span><span class="p">,</span> <span class="n">win</span> <span class="mi">65535</span>
</span></span><span class="line"><span class="cl"><span class="n">localhost</span><span class="o">.</span><span class="n">receiver</span> <span class="o">&gt;</span> <span class="n">localhost</span><span class="o">.</span><span class="n">initiator</span><span class="p">:</span> <span class="n">Flags</span> <span class="p">[</span><span class="n">S</span><span class="o">.</span><span class="p">],</span> <span class="n">seq</span> <span class="mi">3886578796</span><span class="p">,</span> <span class="n">ack</span> <span class="mi">1487079776</span><span class="p">,</span> <span class="n">win</span> <span class="mi">65535</span>
</span></span><span class="line"><span class="cl"><span class="n">localhost</span><span class="o">.</span><span class="n">initiator</span> <span class="o">&gt;</span> <span class="n">localhost</span><span class="o">.</span><span class="n">receiver</span><span class="p">:</span> <span class="n">Flags</span> <span class="p">[</span><span class="o">.</span><span class="p">],</span> <span class="n">ack</span> <span class="mi">1</span><span class="p">,</span> <span class="n">win</span> <span class="mi">6379</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>최초 SYN과 SYN+ACK에서 버퍼 크기를 <code>65535</code>로 이야기 한 뒤, 1/10 크기인 <code>6379</code>로 윈도우 사이즈를 정했다. 그 뒤 서버가 클라이언트에게 데이터를 전송할 때 마다 응답값인 ack에 window size와 ack number를 주어서 <strong>수신 가능한 버퍼 공간과 다음에 받기 원하는 바이트의 번호를 요청할 수 있습니다.</strong></p>
<p>또한 데이터가 전송되는 서버 측 버퍼는 아래와 같은 3가지 구조로 존재하게 될 것입니다.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="n">전송완료</span> <span class="o">&amp;</span> <span class="n">ACK</span> <span class="n">응답</span> <span class="n">받음</span><span class="o">|</span> <span class="n">전송완료</span> <span class="o">&amp;</span> <span class="n">ACK</span> <span class="n">응답</span> <span class="n">받지</span> <span class="n">못함</span><span class="o">|</span> <span class="n">전송</span> <span class="n">대기</span> <span class="n">중</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://evan-moon.github.io/static/a04bfa93161e2a1c8ef37a6f19e1b0dc/21b4d/sw-3.png"
        data-srcset="https://evan-moon.github.io/static/a04bfa93161e2a1c8ef37a6f19e1b0dc/21b4d/sw-3.png, https://evan-moon.github.io/static/a04bfa93161e2a1c8ef37a6f19e1b0dc/21b4d/sw-3.png 1.5x, https://evan-moon.github.io/static/a04bfa93161e2a1c8ef37a6f19e1b0dc/21b4d/sw-3.png 2x"
        data-sizes="auto"
        alt="https://evan-moon.github.io/static/a04bfa93161e2a1c8ef37a6f19e1b0dc/21b4d/sw-3.png"
        title="https://evan-moon.github.io/static/a04bfa93161e2a1c8ef37a6f19e1b0dc/21b4d/sw-3.png" /></p>
<p>서버는 클라이언트의 window size에 따라 window를 이동시키고, 해당 패킷들을 전송하게 됩니다. 만약 이때 서버에서 전송한 패킷들 중 특정 데이터가 유실되거나 잘못 보낼 경우들을 처리하기 위해서 총 2가지 방식이 존재합니다.</p>
<ol>
<li>Go Back N</li>
<li>Selective Repeat</li>
</ol>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://evan-moon.github.io/static/1bc040f7f4090114bb5b65db8e769d5b/e9d87/go-back-n.png"
        data-srcset="https://evan-moon.github.io/static/1bc040f7f4090114bb5b65db8e769d5b/e9d87/go-back-n.png, https://evan-moon.github.io/static/1bc040f7f4090114bb5b65db8e769d5b/e9d87/go-back-n.png 1.5x, https://evan-moon.github.io/static/1bc040f7f4090114bb5b65db8e769d5b/e9d87/go-back-n.png 2x"
        data-sizes="auto"
        alt="https://evan-moon.github.io/static/1bc040f7f4090114bb5b65db8e769d5b/e9d87/go-back-n.png"
        title="https://evan-moon.github.io/static/1bc040f7f4090114bb5b65db8e769d5b/e9d87/go-back-n.png" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://evan-moon.github.io/static/393dda4bf3efb487525f9567f2d08f12/21b4d/go-back-n-example.png"
        data-srcset="https://evan-moon.github.io/static/393dda4bf3efb487525f9567f2d08f12/21b4d/go-back-n-example.png, https://evan-moon.github.io/static/393dda4bf3efb487525f9567f2d08f12/21b4d/go-back-n-example.png 1.5x, https://evan-moon.github.io/static/393dda4bf3efb487525f9567f2d08f12/21b4d/go-back-n-example.png 2x"
        data-sizes="auto"
        alt="https://evan-moon.github.io/static/393dda4bf3efb487525f9567f2d08f12/21b4d/go-back-n-example.png"
        title="https://evan-moon.github.io/static/393dda4bf3efb487525f9567f2d08f12/21b4d/go-back-n-example.png" /></p>
<p><code>Go Back N</code>은 오류가 발생한 패킷 넘버부터 새롭게 패킷을 보내는 것으로, 기존의 보내졌던 패킷들 중 오류 패킷 이후의 정상적으로 수신받은 모든 데이터들도 패기합니다.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://evan-moon.github.io/static/a16fa4ea93d682445ee5ce78e4673ab5/e9d87/selective-repeat.png"
        data-srcset="https://evan-moon.github.io/static/a16fa4ea93d682445ee5ce78e4673ab5/e9d87/selective-repeat.png, https://evan-moon.github.io/static/a16fa4ea93d682445ee5ce78e4673ab5/e9d87/selective-repeat.png 1.5x, https://evan-moon.github.io/static/a16fa4ea93d682445ee5ce78e4673ab5/e9d87/selective-repeat.png 2x"
        data-sizes="auto"
        alt="https://evan-moon.github.io/static/a16fa4ea93d682445ee5ce78e4673ab5/e9d87/selective-repeat.png"
        title="https://evan-moon.github.io/static/a16fa4ea93d682445ee5ce78e4673ab5/e9d87/selective-repeat.png" /></p>
<p><code>Selective Repeat</code>은 에러가 난 패킷만 재전송해주는 방식이며, 이 경우에는 클라 측 버퍼의 패킷 순서가 꼬일 수 있기 때문에, 손실된 세그먼트들을 저장하는 버퍼(reordering buffer)를 따로 두어, 패킷들을 담아두고 기존의 버퍼가 해당 reordering buffer에 들어있는 데이터들이 기존 receiver buffer에 정렬되도록 합니다.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="err">$</span> <span class="n">sysctl</span> <span class="n">net</span><span class="o">.</span><span class="n">inet</span><span class="o">.</span><span class="n">tcp</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">sack</span><span class="p">:</span>
</span></span><span class="line"><span class="cl"><span class="n">net</span><span class="o">.</span><span class="n">inet</span><span class="o">.</span><span class="n">tcp</span><span class="o">.</span><span class="n">sack</span><span class="p">:</span> <span class="mi">1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="4-dns-lookup">4. DNS lookup</h2>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbuJeCx%2FbtrRtVNCPHr%2FwP0QDJYq9fI9cwos0HkSRK%2Fimg.png"
        data-srcset="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbuJeCx%2FbtrRtVNCPHr%2FwP0QDJYq9fI9cwos0HkSRK%2Fimg.png, https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbuJeCx%2FbtrRtVNCPHr%2FwP0QDJYq9fI9cwos0HkSRK%2Fimg.png 1.5x, https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbuJeCx%2FbtrRtVNCPHr%2FwP0QDJYq9fI9cwos0HkSRK%2Fimg.png 2x"
        data-sizes="auto"
        alt="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbuJeCx%2FbtrRtVNCPHr%2FwP0QDJYq9fI9cwos0HkSRK%2Fimg.png"
        title="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbuJeCx%2FbtrRtVNCPHr%2FwP0QDJYq9fI9cwos0HkSRK%2Fimg.png" /></p>
<ol>
<li>브라우저에서 naver.com을 입력하면</li>
<li>/hosts 파일에서 dns: ip에 대한 매핑 확인</li>
<li>(없을 경우) local pc dns cache 확인</li>
<li>(없을 경우) /resolv.conf에서 local dns server ip 확인</li>
</ol>
<blockquote>
<p>Local DNS Server란?</p>
<blockquote>
<p>ISP provider(skt, kt, 등) 또는 Public DNS(google, cloudflare)등이 역할 가능하며, 주요 역할은 DNS name을 IP 주소로 변환하는 것</p>
</blockquote>
</blockquote>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbIx8eY%2FbtrRtU2gjnv%2F20sXtl8sBhwb70IXcJqgQ0%2Fimg.png"
        data-srcset="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbIx8eY%2FbtrRtU2gjnv%2F20sXtl8sBhwb70IXcJqgQ0%2Fimg.png, https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbIx8eY%2FbtrRtU2gjnv%2F20sXtl8sBhwb70IXcJqgQ0%2Fimg.png 1.5x, https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbIx8eY%2FbtrRtU2gjnv%2F20sXtl8sBhwb70IXcJqgQ0%2Fimg.png 2x"
        data-sizes="auto"
        alt="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbIx8eY%2FbtrRtU2gjnv%2F20sXtl8sBhwb70IXcJqgQ0%2Fimg.png"
        title="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbIx8eY%2FbtrRtU2gjnv%2F20sXtl8sBhwb70IXcJqgQ0%2Fimg.png" /></p>
<ol start="5">
<li>local dns server의 cache에서 확인</li>
<li>(없을 경우) local dns server - (recursive query) -&gt; ROOT DNS SERVER</li>
<li>TLD DNS server IP 획득</li>
<li>TLD (.com, .kr 등)</li>
<li>local dns server -&gt; TLD DNS SERVER</li>
<li>Second domain dns의 authoritative server ip 획득</li>
<li>local dns server &ndash;&gt; authoritative server</li>
<li>Authoritative dns -&gt; subdomain(3rd level domain) 체크</li>
<li>예를들면 ftp.naver.com, blog.naver.com에서 ftp.* 또는 blog.* 와 매핑된 Ip 주소</li>
<li>ip 획득, cache 저장</li>
</ol>
<h2 id="5-웹-통신의-큰-흐름-httpswwwgooglecom-을-접속할-때-일어나는-일">5. 웹 통신의 큰 흐름: <a href="https://www.google.com/" target="_blank" rel="noopener noreffer">https://www.google.com/</a>
 을 접속할 때 일어나는 일</h2>
<blockquote>
<p>키워드: <code>dhcp</code>, <code>dns</code>, <code>nat</code>, <code>isp</code>, <code>3-way / 4-way handshake</code>, <code>ssl (ssl handshake)</code></p>
</blockquote>
<p>(pre-step) 노트북 기준 wifi 연결시, IP주소를 얻기 위해 DHCP 요청하며 이를 통해 라우터(또는 wifi 공유기)를 통해 사설 IP주소, 서브넷 마스크, 게이트웨이 주소등을 전달받아둔 상태입니다.</p>
<ol>
<li>
<p>먼저 브라우저가 url에 적힌 값을 파싱해서 <code>HTTP Request Message</code>를 만들고, OS에 전송 요청을 합니다.</p>
</li>
<li>
<p><strong>DNS lookup</strong>, /hosts -&gt; cache 를 확인해서 IP 주소가 없을 경우 DNS lookup을 실시합니다.</p>
</li>
<li>
<p><strong>NAT</strong>, 노트북에 할당된 사설 IP주소를 라우터/wifi공유기가 실행하여 public IP주소로 변환합니다.</p>
</li>
<li>
<p>라우터의 라우팅 테이블을 통해 패킷 다음 목적지 선택</p>
</li>
<li>
<p>ISP의 라우터로 전달 후 다음 목적지 선택</p>
</li>
<li>
<p>google.com의 데이터 센터로 전달</p>
</li>
<li>
<p>3way handshake</p>
</li>
<li>
<p>패킷 전달</p>
</li>
<li>
<p>(keep-alive 이후) 4way handshake</p>
</li>
</ol>
<h2 id="6-dns-round-robin-방식">6. DNS round robin 방식</h2>
<blockquote>
<p>DNS round robin이란 부하 분산 기술로, Authoritative Nameserver는 여러 IP 주소를 순차적으로 반환하여 RR방식으로 부하 분산하는 것입니다.</p>
</blockquote>
<p>FYI, DNS RR은 (DNS lookup에도 영향)을 주는 IP 주소에 대한 load balancing이다.</p>
<h3 id="dns-rr-문제점">DNS RR 문제점</h3>
<ol>
<li>cache에 의해 균등하게 분산되지 못함</li>
<li>health check이 존재하지 않음</li>
</ol>
<h2 id="7-handshakes">7. handshakes</h2>
<h3 id="3-way-handshake">3-way handshake</h3>
<blockquote>
<p>syn &gt; syn-ack &gt; ack</p>
</blockquote>
<h3 id="4-way-handshake">4-way handshake</h3>
<blockquote>
<p>fin &gt; ack(close wait) &gt; fin(last_ack) &gt; ack</p>
</blockquote>
<h3 id="tls-handshakersa">TLS handshake(RSA)</h3>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://cf-assets.www.cloudflare.com/slt3lc6tev37/5aYOr5erfyNBq20X5djTco/3c859532c91f25d961b2884bf521c1eb/tls-ssl-handshake.png"
        data-srcset="https://cf-assets.www.cloudflare.com/slt3lc6tev37/5aYOr5erfyNBq20X5djTco/3c859532c91f25d961b2884bf521c1eb/tls-ssl-handshake.png, https://cf-assets.www.cloudflare.com/slt3lc6tev37/5aYOr5erfyNBq20X5djTco/3c859532c91f25d961b2884bf521c1eb/tls-ssl-handshake.png 1.5x, https://cf-assets.www.cloudflare.com/slt3lc6tev37/5aYOr5erfyNBq20X5djTco/3c859532c91f25d961b2884bf521c1eb/tls-ssl-handshake.png 2x"
        data-sizes="auto"
        alt="https://cf-assets.www.cloudflare.com/slt3lc6tev37/5aYOr5erfyNBq20X5djTco/3c859532c91f25d961b2884bf521c1eb/tls-ssl-handshake.png"
        title="https://cf-assets.www.cloudflare.com/slt3lc6tev37/5aYOr5erfyNBq20X5djTco/3c859532c91f25d961b2884bf521c1eb/tls-ssl-handshake.png" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images/rsa_ssl.jpeg"
        data-srcset="/images/rsa_ssl.jpeg, /images/rsa_ssl.jpeg 1.5x, /images/rsa_ssl.jpeg 2x"
        data-sizes="auto"
        alt="/images/rsa_ssl.jpeg"
        title="/images/rsa_ssl.jpeg" /></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="c1"># RSA 키 교환 알고리즘</span>
</span></span><span class="line"><span class="cl"><span class="mf">1.</span> <span class="n">client</span> <span class="o">-&gt;</span> <span class="n">server</span><span class="p">:</span> <span class="n">client</span> <span class="n">hello</span> <span class="p">(</span><span class="n">protocol</span> <span class="n">version</span><span class="p">,</span> <span class="n">암호</span> <span class="n">알고리즘</span><span class="p">,</span> <span class="n">압축</span> <span class="n">방식</span><span class="p">,</span> <span class="n">클라</span> <span class="n">난수</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="mf">2.</span> <span class="n">server</span> <span class="o">-&gt;</span> <span class="n">client</span><span class="p">:</span> <span class="n">server</span> <span class="n">hello</span> <span class="p">(</span><span class="n">세션</span> <span class="n">ID</span><span class="p">,</span> <span class="n">ca</span> <span class="n">인증서</span><span class="p">,</span> <span class="n">서버난수</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="mf">3.</span> <span class="n">client</span> <span class="o">-&gt;</span> <span class="n">client</span><span class="p">:</span> <span class="n">verify</span> <span class="n">ca</span> <span class="ow">and</span> <span class="n">get</span> <span class="n">public</span> <span class="n">key</span>
</span></span><span class="line"><span class="cl"><span class="mf">4.</span> <span class="n">client</span> <span class="o">-&gt;</span> <span class="n">server</span><span class="p">:</span> <span class="n">클라는</span> <span class="n">난수</span><span class="p">(</span><span class="n">pre</span> <span class="n">master</span> <span class="n">secret</span><span class="p">)</span> <span class="n">생성</span> <span class="n">후</span> <span class="n">public</span> <span class="n">key로</span> <span class="n">암호화</span> <span class="n">후</span> <span class="n">서버</span> <span class="n">전달</span>
</span></span><span class="line"><span class="cl"><span class="mf">5.</span> <span class="n">both</span><span class="p">:</span> <span class="n">클라</span> <span class="n">세션키</span> <span class="n">생성</span> <span class="n">및</span> <span class="n">서버는</span> <span class="n">난수를</span> <span class="n">private</span> <span class="n">key로</span> <span class="n">복호화</span> <span class="n">하여</span> <span class="n">대칭키</span><span class="p">(</span><span class="n">세션</span> <span class="n">키</span><span class="p">)</span> <span class="n">생성</span>
</span></span><span class="line"><span class="cl"><span class="mf">6.</span> <span class="n">client</span> <span class="o">-&gt;</span> <span class="n">server</span><span class="p">:</span> <span class="n">클라는</span> <span class="n">세션키</span><span class="p">(</span><span class="n">대칭키</span><span class="p">)</span><span class="n">로</span> <span class="n">암호화한</span> <span class="n">fin</span> <span class="n">message를</span> <span class="n">서버로</span> <span class="n">전달</span>
</span></span><span class="line"><span class="cl"><span class="mf">7.</span> <span class="n">server</span> <span class="o">-&gt;</span> <span class="n">client</span><span class="p">:</span> <span class="n">서버</span> <span class="n">또한</span> <span class="n">세션키로</span> <span class="n">암호화한</span> <span class="n">fin</span> <span class="n">message를</span> <span class="n">전달</span>
</span></span><span class="line"><span class="cl"><span class="mf">8.</span> <span class="n">이후</span> <span class="n">세션키</span><span class="p">(</span><span class="n">master</span> <span class="n">key</span><span class="p">,</span> <span class="n">대칭키</span><span class="p">)</span><span class="n">를</span> <span class="n">통해</span> <span class="n">통신</span> <span class="n">계속</span> <span class="n">진행</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><a href="https://www.cloudflare.com/ko-kr/learning/ssl/what-happens-in-a-tls-handshake/" target="_blank" rel="noopener noreffer">tls/ssl</a>
</li>
<li><a href="https://blog.cloudflare.com/keyless-ssl-the-nitty-gritty-technical-details/" target="_blank" rel="noopener noreffer">좀 더 자세한 과정 설명</a>
</li>
</ul>
<h3 id="web-socket-handshake">Web Socket Handshake</h3>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers" target="_blank" rel="noopener noreffer">web socket mdn</a>
</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images/websocket.png"
        data-srcset="/images/websocket.png, /images/websocket.png 1.5x, /images/websocket.png 2x"
        data-sizes="auto"
        alt="/images/websocket.png"
        title="/images/websocket.png" /></p>
<p>클라와 서버가 서로 TCP/IP 4계층 레이어에서 통신한다. 즉 conneciton을 들고 있다.</p>
<ul>
<li>http 요청 이후, client가 서버로 upgrade요청하고 101응답</li>
<li>ping을 지속적으로 쏴서, health-check</li>
</ul>
<h2 id="8-nginx가-c10k-problem을-해결한-방식">8. Nginx가 c10k problem을 해결한 방식</h2>
<blockquote>
<p>c10k problem( connection 10k problem )은 한 시스템이 동시에 수천개의 네트워크 연결을 효율적으로 처리해야하는 용어로 nginx는 이 문제를 해결하기 위해 event driven arch를 도입하였습니다.</p>
</blockquote>
<p>기존 방식은 request당 하나의 process 또는 thread를 사용해서 요청들을 처리했습니다. 이에 반해 nginx는 worker pool을 두고 request가 들어올 때 마다, async하게 worker(default cpu 당 1)에게 task를 위임합니다.</p>
<p>이렇게 하게 될 경우 process/thread에 비해, pcb/tcb를 만드는데 들어가는 비용을 줄일 수 있으며 또한 사용자의 요청이 많아질 경우, 상대적으로 context switching에 사용되는 비용을 줄일 수 있습니다. 마지막으로 os가 스케쥴링에 들어가는 비용이 줄어듭니다.</p>
<p>즉 지정된 갯수의 미리생성된 process(thread) 워커를 사용함으로써, 기존의 request가 늘어날 때마다, os 리소스가 급격히 늘어나는 것을 방지하여, 이에 대한 side effect(스케쥴링, context-switching등에 대한 오버헤드를 막아줍니다.) 또한 워커에 필요한 리소스들을 미리 생성해두기 때문에 Process 생성에 들어가는 오버헤드를 줄여줍니다.</p>
<ul>
<li><a href="https://cyuu.tistory.com/172" target="_blank" rel="noopener noreffer">Further reading</a>
</li>
</ul>
<h1 id="database">Database</h1>
<h2 id="db-트랜잭션이란">DB 트랜잭션이란?</h2>
<blockquote>
<p>트랜잭션은 데이터베이스의 데이터를 조작하는 논리적인 작업의 단위(unit of work)입니다.</p>
</blockquote>
<ul>
<li>트랜잭션은 ACID
<ul>
<li>Atomicity
<ul>
<li>all or nothing (rollback)</li>
<li>db transaction, rollback으로 보장</li>
</ul>
</li>
<li>Consistency
<ul>
<li>transaction이 commit 되어도 DB의 여러 제약 조건에 맞는 상태를 보장하는 성질이다. 송금하는 사람의 계좌 잔고가 0보다 작아지면 안 된다.</li>
</ul>
</li>
<li>Isolation
<ul>
<li>transaction이 진행되는 중간 상태의 데이터를 다른 transaction이 볼 수 없도록 보장하는 성질이다. 송금하는 사람의 계좌에서 돈은 빠져나갔는데 받는 사람의 계좌에 돈이 아직 들어가지 않은 DB 상황을 다른 transaction이 읽으면 안 된다.</li>
<li>lock 또는 mvcc(snapshot in postgre)로 구현</li>
</ul>
</li>
<li>Durability
<ul>
<li>transaction이 Commit했을 경우 해당 결과가 영구적으로 적용됨을 보장하는 성질이다</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="트랜잭션과-lock에-대해서-isolation과-연결-지어-설명해주세요">트랜잭션과 lock에 대해서 isolation과 연결 지어 설명해주세요</h2>
<p>DB엔진은 ACID 원칙을 희생하여 동시성을 얻을 수 있는 방법을 제공합니다.</p>
<ul>
<li>Row level lock
<ul>
<li>shared lock: read lock</li>
<li>exclusive lock: write lock</li>
</ul>
</li>
<li>Record lock
<ul>
<li>s lock: read index lock</li>
<li>x lock: write index lock</li>
</ul>
</li>
<li>Gap lock: db index record의 gap에 걸리는 lock (gap = db에 실제 record가 없는 부분)</li>
</ul>
<p>lock은 모두 transaction이 commit 되거나 rollback 될 때 함께 unlock</p>
<ul>
<li>
<p><code>Consistent read</code></p>
<ul>
<li>Isolation</li>
</ul>
</li>
<li>
<p><a href="https://s1107.tistory.com/45" target="_blank" rel="noopener noreffer">https://s1107.tistory.com/45</a>
</p>
</li>
<li>
<p><a href="http://labs.brandi.co.kr/2019/06/19/hansj.html" target="_blank" rel="noopener noreffer">http://labs.brandi.co.kr/2019/06/19/hansj.html</a>
</p>
</li>
<li>
<p><a href="https://suhwan.dev/2019/06/09/transaction-isolation-level-and-lock/" target="_blank" rel="noopener noreffer">https://suhwan.dev/2019/06/09/transaction-isolation-level-and-lock/</a>
</p>
</li>
<li>
<p>index</p>
<ul>
<li><a href="https://idea-sketch.tistory.com/43?category=547413" target="_blank" rel="noopener noreffer">https://idea-sketch.tistory.com/43?category=547413</a>
</li>
<li><a href="https://idea-sketch.tistory.com/45" target="_blank" rel="noopener noreffer">https://idea-sketch.tistory.com/45</a>
</li>
</ul>
</li>
</ul>
<h2 id="optimistic-lock-vs-pessimistic-lock">optimistic lock vs pessimistic lock</h2>
<ul>
<li>Pessimistic lock은 비관적 상황을 고려해 먼저 lock을 걸고 자원을 사용하는 것입니다.</li>
<li>Optimistic Lock은 update가 실행될 때만 lock을 시도합니다, 충돌이 일어나면 collision을 통해서 처리하는 방식입니다.
<ul>
<li>충돌 검사를 위해 버전 번호나 타임스탬프 사용합니다.</li>
</ul>
</li>
</ul>
<p>InnoDB는 SELECT &hellip; FOR UPDATE를 통해, PostgreSQL은 Serializable level에서 optimistic lock을 사용합니다.</p>
<h2 id="db-index에-대해-설명해주세요">DB index에 대해 설명해주세요</h2>
<blockquote>
<p><a href="https://idea-sketch.tistory.com/43?category=547413" target="_blank" rel="noopener noreffer">https://idea-sketch.tistory.com/43?category=547413</a>
</p>
</blockquote>
<p>데이터를 빠르게 검색하고 액세스 할 수 있도록 도와주는 자료구조입니다. 대부분의 RDB에서는 B+ Tree를 사용해 Balanced Tree를 유지하며 이를 통해 O(logn)의 검색 성능을 보장합니다.</p>
<p>크게 클러스터링 인덱스와 비클러스터링 인덱스(Secondary Index)로 나눌 수 있습니다.
innodb의 경우 PK가 기본적으로 제공되어 클러스터링 Index에 사용됩니다. pk값을 기준으로 데이터를 빠르게 검색할 수 있습니다.</p>
<p>Secondary Index는 개발자가 설정한 index로 별도의 공간에 생성되는 인덱스입니다. postgresql의 경우에는 pk를 포함한 모든 인덱스들이 secondary index로 취급되며, heap과는 별도의 파일에 저장됩니다.</p>
<p>Secondary Index를 통한 검색은 먼저 index를 검색하여 O(logN)의 성능으로 조건에 맞는 여러 클러스터링 인덱스의 주소들을 가져옵니다. 그 다음 이 주소들을 사용해 클러스터링 인덱스를 검색하고, 각 주소에 해당하는 실제 데이터를 포함하는 leaf node들을 찾아 데이터를 검색합니다.</p>
<h2 id="db-join">DB Join</h2>
<h3 id="join-유형">Join 유형</h3>
<p>데이터 베이스는 크게 4가지로 Inner, Outer, Cross Join, Self Join이 있습니다.
Outer Join은 left Outer join, right outer, Full Outer join으로 나뉩니다.</p>
<ul>
<li>Inner Join은 두 테이블에서 조인 조건에 일치하는 레코드만 반환합니다.</li>
<li>Left Join은 왼쪽 테이블의 모든 레코드와 오른쪽 테이블에서 조인 조건에 일치하는 레코드를 반환하며, 오른쪽 테이블에 일치하는 레코드가 없으면 NULL값을 반환합니다.</li>
<li>Right Join, 이하 생략</li>
<li>Full Outer Join은 합집합으로 A와 B테이블의 모든 데이터를 보여줍니다.</li>
<li>Cross Join은 Product Join으로 모든 경우의 수를 표현해줍니다. A테이블 row당 B테이블 전체 join</li>
<li>Self Join은 자기 자신과 조인</li>
</ul>
<h3 id="join-연산-시-성능-최적화-전략">Join 연산 시 성능 최적화 전략</h3>
<ul>
<li>조인할 테이블 크기를 최소화하기 위해 필요한 컬럼만 선택합니다.</li>
<li>조인 조건에 사용되는 컬럼에 인덱스를 생성합니다.
<ul>
<li>조인 조건에 인덱스가 있을 경우, 옵티마이저는 가장 효율적인 방법을 사용합니다. 예를들어 full scan을 피하고, 조인 조건에 있는 인덱스를 활용해 테이블 스캔을 최소화할 수 있습니다.</li>
</ul>
</li>
<li>WHERE 절을 사용할 수 있으면 조인 전에 레코드를 필터링합니다.</li>
<li>가능한 경우, 더 작은 테이블을 먼저 조인합니다.
<ul>
<li>Nested Loop Join의 경우 한 테이블의 각 행에 대해 다른 테이블의 모든 행을 검색하므로 작은 테이블을 외부 테이블로 사용하면 반복 횟수를 줄일 수 있습니다.</li>
</ul>
</li>
</ul>
<h3 id="join-전략-nested-loop-join-hash-join-merge-join">Join 전략: Nested Loop Join, Hash Join, Merge Join</h3>
<blockquote>
<p>NHM</p>
</blockquote>
<ul>
<li>Nested Loop Join(NL Join), 적은량, 조회의 범위가 적을 때, 2 for-loop
<ul>
<li>outer loop를 돌면서 inner 테이블에 적합한 레코드를 찾는다. DB는 Page단위로 I/O를 수행하는데, 하나의 레코들르 읽으려고 page를 통째로 읽는 비효율이 존재한다.</li>
<li>또한 join 조건에 index가 들어있다면 랜덤 access로 Disk에 비효율적인 랜덤 I/O가 발생한다.</li>
</ul>
</li>
<li>Hash Join, equal, 하나의 테이블을 hash table로 바꿔 메모리에 올리고 equal 연산으로 찾습니다.</li>
<li>Merge Join, 대용량, 조회의 범위가 많을 때,
<ul>
<li>두 테이블의 Join key를 기반으로 sort 이후(또는 기존에 정렬된 상태), 동시에 스캔하여 조인 조건에 맞는 레코드를 찾아 비교하며 머지합니다.</li>
<li>물론 row 추출 시, 각 테이블 검색 조건에 해당하는 대상 집합들을 찾을 때 index를 사용한 random access가 발생할 수 있다. 많야 random access가 많다면 merge join의 이점이 사라질 수 있다.</li>
</ul>
</li>
</ul>
<p>Nested Join의 경우, 인덱스에 의한 랜덤 액세스를 기반으로 하기 때문에 대량의 데이터 처리 시 적합하지 않습니다. DB에서 Sequential access가 아닌 Index를 통한 랜덤 access가 비싼이유는 I/O에 의해서 HDD 디스크 헤더를 계속 옮겨야 하는 오버헤드가 발생하기 때문입니다.</p>
<h3 id="카디널리티와-조인">카디널리티와 조인</h3>
<p>두 테이블의 카디널리티(집합의 크기, unique한 원소의 갯수)가 다르면, 작은 테이블을 먼저 읽고 큰 테이블과 조인하는 것이 일반적으로 효율적입니다.</p></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2023-10-13&nbsp;<a class="git-hash" href="https://github.com/minkj1992/love/commit/3005bf04273eee18d6c2918146c8de82e271ca78" target="_blank" title="commit by minkj1992(minkj1992@gmail.com) 3005bf04273eee18d6c2918146c8de82e271ca78: docs: interview">
                                    <i class="fas fa-hashtag fa-fw" aria-hidden="true"></i>3005bf0</a></span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/interview/index.md" target="_blank">Read Markdown</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://minkj1992.github.io/interview/" data-title="All Basic Computer Science" data-hashtags="dev,cs,interview"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://minkj1992.github.io/interview/" data-hashtag="dev"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="https://minkj1992.github.io/interview/" data-title="All Basic Computer Science"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="https://minkj1992.github.io/interview/" data-title="All Basic Computer Science"><i data-svg-src="/lib/simple-icons/icons/line.min.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="https://minkj1992.github.io/interview/" data-title="All Basic Computer Science" data-image="/images/interview.jpeg"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/dev/">dev</a>,&nbsp;<a href="/tags/cs/">cs</a>,&nbsp;<a href="/tags/interview/">interview</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/db/" class="prev" rel="prev" title="Fundamentals of Database Engineering"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>Fundamentals of Database Engineering</a>
            <a href="/postgresql/" class="next" rel="next" title="PostgreSQL">PostgreSQL<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
<div id="comments"><div id="utterances"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://utteranc.es/">Utterances</a>.
            </noscript></div></article></div>
        </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.98.0">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2021 - 2024</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://github.com/minkj1992" target="_blank">Minwook Je</a></span></div>
        </div>
    </footer></div>

    <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
            <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
        </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
            <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
        </a>
    </div><link rel="stylesheet" href="/lib/lightgallery/lightgallery.min.css"><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/lazysizes/ls.parent-fit.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lightgallery.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-thumbnail.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-zoom.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/typeit/typeit.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/auto-render.min.js"></script><script type="text/javascript" src="/lib/katex/copy-tex.min.js"></script><script type="text/javascript" src="/lib/katex/mhchem.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{"utterances":{"darkTheme":"github-dark","issueTerm":"pathname","label":"✨💬✨","lightTheme":"github-light","repo":"minkj1992/minkj1992.github.io"}},"data":{"id-1":"The Serious","id-2":"The Serious"},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":true,"left":"\\begin{equation}","right":"\\end{equation}"},{"display":true,"left":"\\begin{equation*}","right":"\\end{equation*}"},{"display":true,"left":"\\begin{align}","right":"\\end{align}"},{"display":true,"left":"\\begin{align*}","right":"\\end{align*}"},{"display":true,"left":"\\begin{alignat}","right":"\\end{alignat}"},{"display":true,"left":"\\begin{alignat*}","right":"\\end{alignat*}"},{"display":true,"left":"\\begin{gather}","right":"\\end{gather}"},{"display":true,"left":"\\begin{CD}","right":"\\end{CD}"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":50,"type":"lunr"},"typeit":{"cursorChar":"|","cursorSpeed":1000,"data":{"id-1":["id-1"],"id-2":["id-2"]},"duration":-1,"speed":100}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>

</html>